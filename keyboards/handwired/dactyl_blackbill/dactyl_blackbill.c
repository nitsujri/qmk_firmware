#include "dactyl_blackbill.h"

void bootmagic_lite(void) {
    matrix_scan();
    wait_ms(5);
    matrix_scan();

    if (matrix_get_row(0) & 1) {
        bootloader_jump();
    }
}

void keyboard_pre_init_kb(void) {
    keyboard_pre_init_user();
}

#ifdef RGB_MATRIX_ENABLE
led_config_t g_led_config = { {
  // Key Matrix to LED Index
    // left hand
  {5   ,    4   ,    3   ,   2   ,    1  ,    0 }, 
  {6   ,    7   ,    8   ,   9   ,   10  ,   11 },                       
  {17  ,   16   ,    15  ,   14  ,   13  ,   12 },
  {18  ,   19   ,    20  ,   21  ,   22  ,   23 },                       
  {NO_LED, NO_LED,   25 ,    24  ,   26  ,   27 },
  {NO_LED, NO_LED,   29  ,   28  ,   30  ,   31 },
    // right hand
  {37   ,   36   ,    35  ,   34   ,   33   ,   32 }, 
  {38   ,   39   ,    40  ,   41   ,   42   ,   43 },                       
  {49   ,   48   ,    47  ,   46   ,   45   ,   44 },
  {50   ,   51   ,    52  ,   53   ,   54   ,   55 },                       
  {57   ,   56   ,    58  ,   59   , NO_LED,  NO_LED},
  {61   ,   60   ,    62  ,   63   , NO_LED,  NO_LED},              
}, 
{
  // LED Index to Physical Position
     // left hand
  {50, 0}, {40, 0}, {30, 0}, {20, 0}, {10, 0}, {0, 0},              
  {0,10}, {10,10}, {20,10}, {30,10}, {40,10}, {50,10},  
  {50,20}, {40,20}, {30,20}, {20,20}, {10,20}, {00,20}, 
  {0,30}, {10,30}, {20,30}, {30,30}, {40,30}, {50,30}, 
                   {30,40}, {20,40}, 
                                     {10,50}, {0,50}, 
                                     {40,60}, {50,60}, 
                                     {40,70}, {50,70}, 
  {40,60}, {30,40}, {10,30}, {0,10}, {20, 0}, {50, 0}, {50,20}, {50,50}, {50,70}, 
    // right hand
  {50, 0}, {40, 0}, {30, 0}, {20, 0}, {10, 0}, {0, 0},              
  {0,10}, {10,10}, {20,10}, {30,10}, {40,10}, {50,10},  
  {50,20}, {40,20}, {30,20}, {20,20}, {10,20}, {00,20}, 
  {0,30}, {10,30}, {20,30}, {30,30}, {40,30}, {50,30}, 
                   {30,40}, {20,40}, 
                                     {10,50}, {0,50}, 
                                     {40,60}, {50,60}, 
                                     {40,70}, {50,70}, 
  {40,60}, {30,40}, {10,30}, {0,10}, {20, 0}, {50, 0}, {50,20}, {50,50}, {50,70}
}, {
  // LED Index to Flag
  4,4,4,4,4,4,   4,4,4,4,4,4,
  4,4,4,4,4,4,   4,4,4,4,4,4,
  4,4,4,4,4,4,   4,4,4,4,4,4,
  4,4,4,4,4,4,   4,4,4,4,4,4,
      4,4,           4,4,
          4,4,           4,4,
          4,4,           4,4,
          4,4,           4,4,
2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
} };
#endif